{#{% extends "newindex.html" %}#}{% block content %}{% load static %}<html lang="en"><head>    <meta charset="UTF-8">    <title>上传文件管理</title>    <meta name="viewport" content="width=device-width, initial-scale=1.0">	<link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css">	<link rel="stylesheet" type="text/css" href="/static/css/dataTables.bootstrap.css">    <script type="text/javascript" src="/static/js/jquery.min.js"></script>    <script type="text/javascript">            $(function (){            $("#testAjax").click(function(){                var exit_id = $(this).parents().parents().attr("fileid")                var data={'fileid':[],}                //var data = '';                $("input[name='file_list']").each(function () {                    if ($(this).is(":checked")==true){                        data["fileid"].push($(this).val());                    }                })                //$('input[name="file_list"]:checked').each(function(){                //    data+=$(this).val()+','; });                var html = $.ajax({                    type: "POST",                    url: "upload_del",                    data: JSON.stringify(data),                    //data : data,                    dataType: 'JSON',                    success:function (data) {                        console.log(data)                        data_type = Object.prototype.toString.apply(data);                        console.log(data_type)                        alert(data.msg);                        $("#exit_"+exit_id).html('Flase')                    }                })             });        });        </script></head><body><div class="row">    <div class="col-xs-12">        <div class="form-inline">            <div class="form-group pull-right">                <button type="button" class=" btn btn-warning" id="testAjax">删除文件</button>            </div>        </div>    </div></div><div class="container-fluid">    <div class="row-fluid">        <table class="table table-striped table-bordered table-hover datatable" id="table">            <thead>                <tr>                    <th type="checkbox" value="{{file.id }}">序号</th>                    <th>文件名</th>                    <th>文件目录</th>                    <th>上传时间</th>                    <th>文件大小</th>                    <th>是否存在</th>{#                    <th>远程删除</th>#}                </tr>            </thead>            <tbody>            {% for file in files %}                <tr fileid="{{ file.id }}" {% if not file.fileexit %} class="danger" {% endif %}>                    <td><input type="checkbox" value="{{file.id }}" name="file_list">{{ file.id }}</td>                    <td>{{ file.filetitle }}</td>                    <td>{{ file.filepath }}</td>                    <td>{{ file.uploadtime }}</td>                    <td>{{ file.filesize }}</td>                    <td id="exit_{{ file.id }}">{{ file.fileexit }}</td>{#                    <td id="testAjax"><button type="button" class=" btn btn-warning" {% if not file.fileexit %} disabled="disabled" {% endif %}>删除文件</button></td>#}                </tr>            {% endfor %}             </tbody>        </table>    </div>    <script type="text/javascript" src="/static/js/jquery.dataTables.min.js"></script>    <script type="text/javascript" src="/static/js/bootstrap.min.js"></script>    <script type="text/javascript" src="/static/js/dataTables.bootstrap.js"></script></div></body></html>{% endblock %}{% block scripts %}$(document).ready(function() {    $("#table").dataTable( {    aLengthMenu: [20,50,100,200],    "oLanguage": {        "sProcessing": "正在加载中......",        "sLengthMenu": "每页显示 _MENU_ 条记录",        "sZeroRecords": "对不起，查询不到相关数据！",        "sEmptyTable": "表中无数据存在！",        "sInfo": "当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录",        "sInfoFiltered": "数据表中共为 _MAX_ 条记录",        "sSearch": "搜索：",        "oPaginate": {            "sFirst": "首页",            "sPrevious": "上一页",            "sNext": "下一页",            "sLast": "末页"    }    }    });    });{% endblock %}