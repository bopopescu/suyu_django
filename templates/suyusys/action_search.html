{% extends 'newindex.html' %}{% block head %}    <link href="/static/css/saltstack/plugins/dataTables/datatables.min.css" rel="stylesheet">{% endblock %}{% block re_content %}    {% if id == 0 %}    <div class="row">        <div class="col-lg-12">            <div class="ibox float-e-margins">                <div class="ibox-title">                    <h5>游戏区服详情</h5>                </div>                <div class="ibox-content">                    <div class="table-responsive">                        <table class="table table-striped table-bordered table-hover dataTables-example" >                        <thead>                        <tr>                            <th>序号</th>                            <th>中心服</th>                            <th>平台</th>                            <th>大区</th>                            <th>区服</th>                            <th>serverID</th>                            <th>合并服ID</th>                            <th>ip</th>                            <th>开服时间</th>                            <th>白名单</th>                            <th>是否开服</th>                        </tr>                        </thead>                        <tbody>                        {% for game_list in result %}                        <tr class="gradeX">                            <td>{{ forloop.counter }}</td>                            <td>{{ game_list.app }}</td>                            <td>{{ game_list.platform }}</td>                            <td>{{ game_list.white }}</td>                            <td class="center">{{ game_list.name }}</td>                            <td>{{ game_list.server }}</td>                            <td>{{ game_list.merge }}</td>                            <td>{{ game_list.ip }}</td>                            <td>{{ game_list.sertime }}</td>                            <td><a><i {% if game_list.white == '2' %}class="fa fa-check-square" style="color:green;" {% else %} class="fa fa-minus-square-o" style="color:red;" {% endif %}></i></a></td>                            <td></td>                        </tr>                        {% endfor %}                        </tbody>                        <tfoot>                        <tr>                            <th>序号</th>                            <th>中心服</th>                            <th>平台</th>                            <th>大区</th>                            <th>区服</th>                            <th>serverID</th>                            <th>合并服ID</th>                            <th>ip</th>                            <th>开服时间</th>                            <th>白名单</th>                            <th>是否开服</th>                        </tr>                        </tfoot>                        </table>                    </div>                </div>            </div>        </div>    </div>    {% endif %}    {% if id == 1 %}    <div class="row">    <div class="col-lg-12">        <div class="ibox float-e-margins">            <div class="ibox-content">                <div class="table-responsive">                    <table class="table table-striped table-bordered table-hover dataTables-example" >                    <thead>                    <tr>                        <th>序号</th>                        <th>country</th>                        <th>主机名</th>                        <th>外网ip</th>                        <th>内网ip</th>                        <th>最大区服数</th>                        <th>已装区服数</th>                        <th>添加时间</th>                        <th>是否退还</th>                        <th>是否可用</th>                    </tr>                    </thead>                    <tbody>                    {% for game in result %}                    <tr {% if game.hostexit %} class="danger" {% elif game.hostuse %} class="warning"{% endif %}>                        <td>{{ forloop.counter }}</td>                        <td>{{ game.country }}</td>                        <td>{{ game.hostName }}</td>                        <td>{{ game.hostWanIp }}</td>                        <td>{{ game.hostLanIp }}</td>                        <td>{{ game.hostLimit }}</td>                        <td>{{ game.merge }}</td>                        <td>{{ game.hostAddTime }}</td>                        <td>                            {% if not game.hostexit %}                            <div class="switch">                                <div class="onoffswitch">                                    <input type="checkbox" checked class="onoffswitch-checkbox" id="example{{ forloop.counter }}" value="{{ game.id }}" action="off">                                    <label class="onoffswitch-label" for="example{{ forloop.counter }}">                                        <span class="onoffswitch-inner"></span>                                        <span class="onoffswitch-switch"></span>                                    </label>                                </div>                            </div>                            {% else %}                            <div class="switch">                                <div class="onoffswitch">                                    <input type="checkbox" class="onoffswitch-checkbox" id="example{{ forloop.counter }}" value="{{ game.id }}" action="on">                                    <label class="onoffswitch-label" for="example{{ forloop.counter }}">                                        <span class="onoffswitch-inner"></span>                                        <span class="onoffswitch-switch"></span>                                    </label>                                </div>                            </div>                            {% endif %}                        </td>                        <td>                            {% if not game.hostuse %}                            <div class="switch">                                <div class="onoffswitch">                                    <input type="checkbox" checked class="onoffswitch-checkbox" id="example{{ forloop.counter|add:'20' }}" value="{{ game.id|add:'10000' }}" action="off">                                    <label class="onoffswitch-label" for="example{{ forloop.counter|add:'20' }}" >                                        <span class="onoffswitch-inner"></span>                                        <span class="onoffswitch-switch"></span>                                    </label>                                </div>                            </div>                            {% else %}                            <div class="switch">                                <div class="onoffswitch">                                    <input type="checkbox" class="onoffswitch-checkbox" id="example{{ forloop.counter|add:'20' }}" value="{{ game.id|add:'10000' }}" action="on">                                    <label class="onoffswitch-label" for="example{{ forloop.counter|add:'20' }}">                                        <span class="onoffswitch-inner"></span>                                        <span class="onoffswitch-switch"></span>                                    </label>                                </div>                            </div>                            {% endif %}                        </td>                    </tr>                    {% endfor %}                    </tbody>                    <tfoot>                    <tr>                        <th>序号</th>                        <th>country</th>                        <th>主机名</th>                        <th>外网ip</th>                        <th>内网ip</th>                        <th>最大区服数</th>                        <th>已装区服数</th>                        <th>添加时间</th>                        <th>是否退还</th>                        <th>是否可用</th>                    </tr>                    </tfoot>                    </table>                </div>            </div>        </div>    </div></div>    {% endif %}{% endblock %}{% block js %}    <script src="/static/js/saltstack/plugins/dataTables/datatables.min.js"></script>    <script src="/static/js/saltstack/plugins/nestable/jquery.nestable.js"></script>    <script src="/static/js/saltstack/plugins/switchery/switchery.js"></script>{% endblock %}{% block scripts %}    <script>    $(document).on("click", "input", function (e) {        var id = $(e.target).attr("value");        console.log(id)        var action = $(e.target).attr("action");        console.log(action)        $.ajax({            type: "post",            url: "alter_host_status_api",            data: JSON.stringify({'id': id, 'action': action}),            datatype: 'json',            success: function (data) {                console.log(data.msg)                console.log(data.status)                if (data.status == '1'){                    toastr.success(data.msg)                }                else {                    toastr.error(data.msg)                }            }        })    })    </script>    <script>        $(document).ready(function(){            $('.dataTables-example').DataTable({                pageLength: 25,                responsive: true,                dom: '<"html5buttons"B>lTfgitp',                buttons: [                    { extend: 'copy'},                    {extend: 'csv'},                    {extend: 'excel', title: 'ExampleFile'},                    {extend: 'pdf', title: 'ExampleFile'},                    {extend: 'print',                     customize: function (win){                        $(win.document.body).addClass('white-bg');                        $(win.document.body).css('font-size', '10px');                        $(win.document.body).find('table')                            .addClass('compact')                            .css('font-size', 'inherit');                    }                    }                ]            });        });    </script>{% endblock %}