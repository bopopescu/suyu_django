# -*-coding:utf-8 -*-import salt.client as scimport requestsimport jsonclass SaltFc(object):    def __init__(self):        self.local = sc.LocalClient()    # 执行模块功能    def runModel(self, iplist, model, *args):        if self._is_danger_cmd(args):            false_list = {}            for ip in iplist.split(','):                false_list[ip] = u"错误：命令%s存在危险命令字段，无法执行" % args            return false_list        result = self.local.cmd(iplist, model, args, expr_form='list')        return result    def cmd(self, ip):        return self.local.cmd(ip, 'grains.items')if __name__ == '__main__':    a = SaltFc()    infolist = a.cmd('172.17.0.4')    info = infolist.get('172.17.0.4')    print info,type(info)    data = json.dumps(info)    print type(data)    r = requests.post('http://192.168.28.132/salt_tem_api', data=data)    print r.status_code